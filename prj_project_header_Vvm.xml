<GroupBox Name="GBDVprj_project_header" cols="xs12 sm12 md12 lg12"><Ctrls>
<ListCtrl Name="prj_project_header_vLst" ToolTip="ttp_prj_project_header" Size="700,420" OnLoad="init" loadedclick="0">
	<DbDetails >
<DbTable>xbs.prj_project_header p left join xbs.prj_project_type_header p0 on p.prj_project_type_id=p0.prj_project_type_header_id left join xbs.ar_customer a on p.ar_customer_id=a.ar_customer_id left join xbs.ar_customer_site a0 on p.ar_customer_site_id=a0.ar_customer_site_id left join xbs.option_line o on p.current_phase=o.option_line_id left join xbs.option_line o0 on p.accounting_group=o0.option_line_id left join xbs.currency c on p.currency=c.currency_id left join xbs.currency c0 on p.doc_currency=c0.currency_id left join xbs.user_v u on p.manager_user_id=u.xerp_user_id left join xbs.option_line o1 on p.project_status=o1.option_line_id left join xbs.option_line o2 on p.approval_status=o2.option_line_id</DbTable>
<Index>prj_project_header_id</Index>
<Data>p.project_number,p.name,p0.project_type prj_project_type_id,a.customer_name ar_customer_id,a0.customer_site_name ar_customer_site_id,o.option_line_value current_phase,o0.option_line_value accounting_group,c.title currency,c0.title doc_currency,u.username manager_user_id,p.start_date,p.completion_date,p.source,p.reference_type,p.direct_labor_cb,p.is_template_cb,o1.option_line_value project_status,o2.option_line_value approval_status,p.created_by,p.creation_date,p.last_update_by,p.last_update_date,p.bu_org_id,p.description,p.header_amount,p.prj_project_header_id</Data>
<Order>prj_project_header_id</Order></DbDetails>
<operator refresh="1" firstpage="1" prepage="1" nextpage="1">
<op text="modify"><DbDetails><Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_project_header.prj_project_headerLst"/></op>
<op text="addtask"><submit next="$this.prj_project_line_v.prj_project_line.GBDEDITprj_project_line" function="reset"/><DbDetails><Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_project_line_v.prj_project_line.prj_project_header_id"/><submit next="$this.prj_project_line_v.prj_project_line.parent_prj_task_num" function="resetcontent"/></op>
<op text="taskList"><assign name="$this.prj_project_line_v.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>p.prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_project_line_v.prj_project_line_vLst"/></op>
<op text="member"><assign name="$this.prj_project_member_v.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_project_member_v.prj_project_member_vLst"/></op>
<op text="control"><assign name="$this.prj_project_control_v.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_project_control_v.prj_project_control_vLst"/></op>
<op text="customer_relation"><assign name="$this.prj_customer_relation_v.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>p.prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_customer_relation_v.prj_customer_relation_vLst"/></op>
<op text="budget"><assign name="$this.prj_budget_header_v.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>p.prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_budget_header_v.prj_budget_header_vLst"/></op>
<op text="funding"><assign name="$this.prj_agreement_line_v.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>p.prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_agreement_line_v.prj_agreement_line_vLst"/></op>
<op text="release" needconfirm="1"><DbDetails><queryFormat>UPDATE prj_project_header SET current_phase=1248,project_status=370 WHERE prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}' AND project_status=369;</queryFormat></DbDetails><submit namelist="DbDetails"/><submit/></op>
<op text="start" needconfirm="1"><DbDetails><queryFormat>UPDATE prj_project_header SET current_phase=1247 WHERE prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}' AND current_phase=1248 and project_status=370;insert ignore into prj_percent_header (prj_project_header_id,percent,description,as_of_date,created_by,creation_date) VALUES (%{prj_project_header_vLst[prj_project_header_id]},0,'release',now(),'%{user_id}',now());</queryFormat></DbDetails><submit namelist="DbDetails"/><submit/></op>
<op text="close" needconfirm="1"><DbDetails><queryFormat>UPDATE prj_project_header SET current_phase=1251,project_status=374 WHERE prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}' AND project_status=373;</queryFormat></DbDetails><submit namelist="DbDetails"/><submit/></op>
<op text="cancel" needconfirm="1"><DbDetails><queryFormat>UPDATE prj_project_header SET current_phase=1251,project_status=1399 WHERE prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}';</queryFormat></DbDetails><submit namelist="DbDetails"/><submit/></op>
<op text="percent"><DbDetails><Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_percent_header.prj_project_header_id"/></op>
<op text="event"><assign name="$this.prj_event_header_V.prj_project_header_id" expr="%{prj_project_header_vLst[prj_project_header_id]}"/><DbDetails><Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where></DbDetails><submit namelist="DbDetails" next="$this.prj_event_header_V.prj_event_header_VLst"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>xbs.prj_project_header</DbTable>
<Where>prj_project_header_id='%{prj_project_header_vLst[prj_project_header_id]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
</ListCtrl>
</Ctrls></GroupBox>